<linkset>
  <html:link
    rel="localization"
    href="__addonRef__-preferences.ftl"
  />
</linkset>
<vbox
  id="__addonRef__"
  onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', {window})"
>
  <label><html:h1 data-l10n-id="pref-title-label"></html:h1></label>
  <groupbox>
    <!-- 一般设置 -->
    <label><html:h2 data-l10n-id="pref-general-settings-label"></html:h2></label>
    <!-- 添加时自动执行格式化 -->
    <checkbox
      id="__addonRef__-add-update"
      data-l10n-id="pref-general-add-update"
      preference="__prefsPrefix__.add.update"
      native="true"
    />
    <!-- 添加时自动执行格式化（群组条目） -->
    <checkbox
      id="__addonRef__-add-update-for-group"
      data-l10n-id="pref-general-add-update-for-group"
      preference="__prefsPrefix__.add.updateOnAddedForGroup"
      native="true"
    />
    <!-- 添加时检测是否存在重复条目 -->
    <checkbox
      data-l10n-id="pref-general-add-check-duplication"
      preference="__prefsPrefix__.isEnableCheckDuplication"
      native="true"
    />
    <!-- 添加时检测网页条目 -->
    <checkbox
      data-l10n-id="pref-general-add-check-webpage"
      preference="__prefsPrefix__.isEnableCheckWebpage"
      native="true"
    />
    <!-- 是否启用富文本工具框 -->
    <checkbox
      id="__addonRef__-enable-toolbar"
      data-l10n-id="pref-general-isEnableToolbar"
      preference="__prefsPrefix__.richtext.isEnableToolBar"
      native="true"
    />
    <checkbox
      data-l10n-id="pref-general-isEnableRichTextHotKey"
      preference="__prefsPrefix__.richtext.isEnableRichTextHotKey"
      native="true"
      disabled="true"
    />
  </groupbox>

  <groupbox>
    <!--标准格式化流程中的启用项-->
    <label><html:h2 data-l10n-id="pref-std-label"></html:h2></label>
    <!-- <description></description> -->
    <!-- 清理被不合理占用的字段 -->
    <checkbox
      data-l10n-id="pref-std-clean-fileld"
      preference="__prefsPrefix__.isEnableCleanFields"
      native="true"
      disabled="true"
    />
    <!-- 补全条目空白字段 -->
    <!-- <checkbox
      data-l10n-id="pref-std-update-field-by-doi"
      preference="__prefsPrefix__.isEnableOtherFields"
      native="true"
    /> -->
    <!-- <description data-l10n-id="pref-std-update-field-by-doi-desc" style="width: 45em" class="indented-pref" /> -->
    <!-- 根据标题识别条目语言 -->
    <checkbox
      data-l10n-id="pref-std-lang"
      preference="__prefsPrefix__.isEnableLang"
      native="true"
    />
    <!-- 修改作者大小写 -->
    <checkbox
      data-l10n-id="pref-std-creators"
      preference="__prefsPrefix__.isEnableCreators"
      native="true"
    />
    <!-- 修改标题大小写 -->
    <checkbox
      data-l10n-id="pref-std-title"
      preference="__prefsPrefix__.isEnableTitleCase"
      native="true"
    />
    <!-- 修正期刊名大小写 -->
    <checkbox
      data-l10n-id="pref-std-publicationTitle"
      preference="__prefsPrefix__.isEnablePublicationTitle"
      native="true"
    />
    <!-- 更新期刊缩写 -->
    <checkbox
      data-l10n-id="pref-std-abbr"
      preference="__prefsPrefix__.isEnableAbbr"
      native="true"
    />
    <!-- 更新日期格式 -->
    <checkbox
      data-l10n-id="pref-std-date"
      preference="__prefsPrefix__.isEnableDateISO"
      native="true"
    />
    <!-- 更新DOI格式 -->
    <checkbox
      data-l10n-id="pref-std-doi"
      preference="__prefsPrefix__.isEnableDOI"
      native="true"
    />
    <!-- 更新地点字段 -->
    <checkbox
      data-l10n-id="pref-std-place"
      preference="__prefsPrefix__.isEnablePlace"
      native="true"
    />
  </groupbox>

  <!-- 期刊缩写 -->
  <groupbox>
    <label><html:h2 data-l10n-id="pref-abbr-label"></html:h2></label>

    <hbox align="center">
      <label data-l10n-id="pref-abbr-type-label" />
      <radiogroup
        id="__addonRef__-abbr-type"
        preference="__prefsPrefix__.abbr.type"
        orient="horizontal"
      >
        <radio
          data-l10n-id="pref-abbr-type-iso4"
          value="ISO4dot"
        />
        <radio
          data-l10n-id="pref-abbr-type-iso4dotless"
          value="ISO4dotless"
        />
        <radio
          data-l10n-id="pref-abbr-type-jcr"
          value="JCR"
        />
      </radiogroup>
    </hbox>
    <hbox align="center">
      <label data-l10n-id="pref-abbr-custom-data-label"></label>
      <html:input
        style="flex: 1"
        type="text"
        readonly="true"
        size="50"
        id="__addonRef__-abbr-custom-path"
        data-l10n-id="pref-choose-custom-abbr-data-input"
        preference="__prefsPrefix__.abbr.customDataPath"
      ></html:input>
      <button
        data-l10n-id="pref-choose-custom-abbr-data-button"
        id="__addonRef__-abbr-choose-custom-data-button"
        native="true"
      />
    </hbox>
    <checkbox
      id="__addonRef__-abbr-infer"
      data-l10n-id="pref-abbr-infer"
      preference="__prefsPrefix__.abbr.infer"
      native="true"
    />

    <checkbox
      id="__addonRef__-abbr-usefull"
      data-l10n-id="pref-abbr-usefull"
      preference="__prefsPrefix__.abbr.usefull"
      native="true"
    />

    <checkbox
      id="__addonRef__-abbr-usefull"
      data-l10n-id="pref-abbr-usefullZh"
      preference="__prefsPrefix__.abbr.usefullZh"
      native="true"
    />
  </groupbox>

  <!-- 语言 -->
  <groupbox>
    <label><html:h2 data-l10n-id="pref-lang-label"></html:h2></label>

    <checkbox
      id="__addonRef__-lang-only"
      data-l10n-id="pref-lang-allow"
      preference="__prefsPrefix__.lang.only.enable"
      native="true"
    />

    <vbox class="indented-pref">
      <hbox align="center">
        <checkbox
          id="__addonRef__-lang-only-cmn"
          data-l10n-id="pref-lang-cmn"
          preference="__prefsPrefix__.lang.only.cmn"
          native="true"
        />
        <checkbox
          id="__addonRef__-lang-only-eng"
          data-l10n-id="pref-lang-eng"
          preference="__prefsPrefix__.lang.only.eng"
          native="true"
        />
        <label data-l10n-id="pref-lang-other" />
        <html:input
          type="text"
          id="__addonRef__-lang-only-other"
          preference="__prefsPrefix__.lang.only.other"
        />
        <label
          data-l10n-id="pref-lang-other-doc"
          is="zotero-text-link"
          class="zotero-text-link"
          href="https://github.com/northword/zotero-format-metadata#readme"
        />
      </hbox>

      <description
        data-l10n-id="pref-lang-other-desc"
        style="width: 45em"
      />
    </vbox>
  </groupbox>

  <groupbox>
    <label><html:h2>About</html:h2></label>
    <label
      data-l10n-id="help-version"
      data-l10n-args='{"time": "__buildTime__","name": "__addonName__","version":"__buildVersion__"}'
    />
    <!-- <label
            is="zotero-text-link"
            class="zotero-text-link"
            href="https://github.com/northword/zotero-format-metadata"
        >
            GitHub
        </label> -->
  </groupbox>
</vbox>
